{"ast":null,"code":"// import SideNavBar from \"../Components/SideNavBar\";\n// import NavBar from \"../Components/NavBar\";\n// import Box from \"@mui/material/Box\";\n// import axios from 'axios';\n// import { useReducer, useState,useEffect } from \"react\";\n// import AddVideo from \"./AddVideo\";\n// import BookList from \"./BookList\";\n\n// function Books() {\n//   const [editableBook, setEditableBook] = useState(null);\n//   const [Boook, dispatch] = useReducer(bookReducer, []);\n//   useEffect(() => {\n\n//     axios.get(\"http://localhost:8000/book\")\n\n//       .then(response => {\n//         console.log(response)\n//         dispatch({ type: \"SET_BOOKS\", payload: response.data });\n//       })\n//       .catch(error => {\n//         console.error(\"Error fetching data:\", error);\n//       });\n//   }, []);\n\n//   function bookReducer(Boook, action) {\n//     switch (action.type) {\n//       case \"SET_BOOKS\":\n//         return action.payload;\n//       case \"ADD\":\n//         return [...Boook, { ...action.payload, id: Boook.length + 1 }];\n//       // case \"Delete\":\n//       //   return Boook.filter((book) => book.id !== action.payload);\n//       case \"DELETE\":\n//         // Making a DELETE request to the backend API\n//         axios.delete(`http://localhost:8000/book/${action.payload}`)\n//           .then(() => {\n//             // On successful deletion from the backend, update the state\n//             dispatch({ type: \"DELETE\", payload: action.payload });\n//           })\n//           .catch(error => {\n//             console.error(\"Error deleting book:\", error);\n//           });\n//         return Boook; // Return the current state before the API responds\n\n//       case \"Edit\":\n//         const index = Boook.findIndex((b) => b.id === action.payload.id);\n//         const newBook = [...Boook];\n//         newBook.splice(index, 1, action.payload);\n//         setEditableBook(null);\n//         return newBook;\n//       default:\n//         return Boook;\n//     }\n//   }\n\n//   function updateBook(id) {\n//     console.log(id);\n//     setEditableBook(Boook.find((book) => book.id === id));\n//   }\n\n//   return (\n//     <>\n//       <NavBar />\n//       <Box height={30} />\n//       <Box sx={{ display: \"flex\" }}>\n//         <SideNavBar />\n\n//         <Box component=\"main\" sx={{ flexGrow: 1, p: 3 }}>\n//           <h1>Books</h1>\n//           <AddVideo\n//             dispatch={dispatch}\n//             // editBook={editBook}\n//             editableBook={editableBook}\n//           ></AddVideo>\n//           <BookList\n//             dispatch={dispatch}\n//             updateBook={updateBook}\n//             Boook={Boook}\n//           ></BookList>\n//         </Box>\n//       </Box>\n//     </>\n//   );\n// }\n// export default Books;","map":{"version":3,"names":[],"sources":["C:/Users/Ayushi/library1/src/Pages/Books.js"],"sourcesContent":["// import SideNavBar from \"../Components/SideNavBar\";\r\n// import NavBar from \"../Components/NavBar\";\r\n// import Box from \"@mui/material/Box\";\r\n// import axios from 'axios';\r\n// import { useReducer, useState,useEffect } from \"react\";\r\n// import AddVideo from \"./AddVideo\";\r\n// import BookList from \"./BookList\";\r\n\r\n// function Books() {\r\n//   const [editableBook, setEditableBook] = useState(null);\r\n//   const [Boook, dispatch] = useReducer(bookReducer, []);\r\n//   useEffect(() => {\r\n    \r\n//     axios.get(\"http://localhost:8000/book\")\r\n\r\n//       .then(response => {\r\n//         console.log(response)\r\n//         dispatch({ type: \"SET_BOOKS\", payload: response.data });\r\n//       })\r\n//       .catch(error => {\r\n//         console.error(\"Error fetching data:\", error);\r\n//       });\r\n//   }, []);\r\n  \r\n   \r\n//   function bookReducer(Boook, action) {\r\n//     switch (action.type) {\r\n//       case \"SET_BOOKS\":\r\n//         return action.payload;\r\n//       case \"ADD\":\r\n//         return [...Boook, { ...action.payload, id: Boook.length + 1 }];\r\n//       // case \"Delete\":\r\n//       //   return Boook.filter((book) => book.id !== action.payload);\r\n//       case \"DELETE\":\r\n//         // Making a DELETE request to the backend API\r\n//         axios.delete(`http://localhost:8000/book/${action.payload}`)\r\n//           .then(() => {\r\n//             // On successful deletion from the backend, update the state\r\n//             dispatch({ type: \"DELETE\", payload: action.payload });\r\n//           })\r\n//           .catch(error => {\r\n//             console.error(\"Error deleting book:\", error);\r\n//           });\r\n//         return Boook; // Return the current state before the API responds\r\n\r\n\r\n//       case \"Edit\":\r\n//         const index = Boook.findIndex((b) => b.id === action.payload.id);\r\n//         const newBook = [...Boook];\r\n//         newBook.splice(index, 1, action.payload);\r\n//         setEditableBook(null);\r\n//         return newBook;\r\n//       default:\r\n//         return Boook;\r\n//     }\r\n//   }\r\n\r\n \r\n\r\n//   function updateBook(id) {\r\n//     console.log(id);\r\n//     setEditableBook(Boook.find((book) => book.id === id));\r\n//   }\r\n\r\n//   return (\r\n//     <>\r\n//       <NavBar />\r\n//       <Box height={30} />\r\n//       <Box sx={{ display: \"flex\" }}>\r\n//         <SideNavBar />\r\n\r\n//         <Box component=\"main\" sx={{ flexGrow: 1, p: 3 }}>\r\n//           <h1>Books</h1>\r\n//           <AddVideo\r\n//             dispatch={dispatch}\r\n//             // editBook={editBook}\r\n//             editableBook={editableBook}\r\n//           ></AddVideo>\r\n//           <BookList\r\n//             dispatch={dispatch}\r\n//             updateBook={updateBook}\r\n//             Boook={Boook}\r\n//           ></BookList>\r\n//         </Box>\r\n//       </Box>\r\n//     </>\r\n//   );\r\n// }\r\n// export default Books;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}